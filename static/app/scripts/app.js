// Generated by CoffeeScript 1.6.3
(function() {
  var app, rootController;

  app = angular.module('wordsApp', ['ngRoute', 'ngTable', 'restangular']);

  app.config(function($routeProvider) {
    Parse.initialize("zCZ9afoU17xLzheYoVGnUxU85Wvqri3pasbdc0Q9", "m1kKssfW6cek18eL9fa8AS0JR7siPCFPx5NmHDuR");
    return $routeProvider.when('/', {
      templateUrl: 'views/main.html',
      controller: 'MainCtrl',
      access: 'public'
    }).when('/upload', {
      templateUrl: 'views/upload.html',
      controller: 'UploadCtrl',
      access: 'user'
    }).when('/documents', {
      templateUrl: 'views/files.html',
      controller: 'FilesCtrl',
      access: 'user'
    }).when('/documents/:id', {
      templateUrl: 'views/document.html',
      controller: 'DocumentCtrl',
      access: 'user'
    }).when('/segments', {
      templateUrl: 'views/segments.html',
      controller: 'SegmentsCtrl',
      access: 'user'
    }).when('/words', {
      templateUrl: 'views/words.html',
      controller: 'WordsCtrl',
      access: 'user'
    }).otherwise({
      redirectTo: '/words'
    });
  });

  rootController = function(root, location) {
    root.go = function(url) {
      return location.path('/' + url);
    };
    root.user = Parse.User.current();
    return root.$on('$routeChangeStart', function(event, next) {
      if (next.access !== 'public' && !root.user) {
        return root.go('');
      }
    });
  };

  app.run(['$rootScope', '$location', rootController]);

}).call(this);

/*
//@ sourceMappingURL=app.map
*/
